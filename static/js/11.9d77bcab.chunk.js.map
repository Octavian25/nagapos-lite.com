{"version":3,"sources":["Validasi/Pembelian/ValidasiPembelian.jsx","pages/Pembelian/TransaksiPembelian/ModalTambahBarang.jsx","pages/Pembelian/TransaksiPembelian/ModalDataCustomer.jsx","pages/Pembelian/TransaksiPembelian/ModalPembayaran.jsx","pages/Pembelian/TransaksiPembelian/LihatDataBarang.jsx","pages/Pembelian/TransaksiPembelian/FormTransaksiPembelian.jsx","Validasi/Penjualan/ValidasiPembayaran.jsx","Validasi/Penjualan/ValidasiFormDataMemberPenjualan.jsx","pages/Barang/HancurDataBarang/OtorisasiHancur.jsx"],"names":["ValidasiPembelian","value","errors","kode_dept","nama_barang","berat","harga","harga_rata","kondisi","currencyMask","createNumberMask","prefix","locale","ModalTambahBarang","props","_this","Object","classCallCheck","this","_super","call","state","isLoading","harga_jual","hargapergram","ongkos","total","dispatch","getDataSales","getDataJenis","getKondisiPembelian","setTimeout","document","getElementById","focus","HideKeyboard","postMessage","e","_this2","clearTimeout","delay","setState","searching","cek","JSON","parse","localStorage","getItem","findIndex","hasil","kode_barcode","getData","then","res","data","length","ToastNotification","change","forEach","list","index","datamember","data_cusomer","kode_sales","jenis_pelanggan","kode_member","kode_customer","nama_customer","alamat_customer","no_hp","setItem","stringify","nama_atribut","berat_atribut","harga_atribut","parseInt","kadar","catch","err","console","log","_this3","kode","split","potongan","harga_beli","_this4","react_default","a","createElement","onSubmit","handleSubmit","onKeyPress","key","preventDefault","autoComplete","className","Field","id","name","component","HiidenFiled","type","readOnly","onChange","getBarcode","target","label","normalize","replace","placeholder","ReanderField","getHarga","options","datakondisi","filter","undefined","kondisi_barang","map","_id","ReanderSelect","datajenis","nama_dept","NumberOnly","Gramasi","hitungTotal","assign","disabled","isLoadingSimpanBarang","Fragment","loading_default","loading","background","loaderColor","Component","reduxForm","form","enableReinitialize","validate","selector","formValueSelector","connect","_selector","harga_nota","potongan_tmp","parseFloat","setBarangPembelian","penjualan","harga_potong","DataSales","datamaster","initialValues","ModalDataCustomer","showMember","data_customer","item","tabIndex","changemember","getMember","onClick","back","ValidasiFormDataMemberPenjualan","jenis_pembayaran","ModalPembayaran","data_barang_penjualan","kembali","ValidasiPembayaran","grand_total_pembayaran","cash","LihatDataBarang","tabel","keyField","exportCsv","columns","empty","textEmpty","FormTransaksiPembelian","step","isLoadingBatal","isLoadingSimanBeli","isLoadingDataCustomer","dataField","text","footerAttrs","colSpan","footer","formatter","cell","toLocaleString","columnData","reduce","acc","toFixed","csvExport","headerClasses","rowcontent","row","hapusdata","Swal","fire","title","icon","position","cancelButtonText","showCancelButton","confirmButtonText","showConfirmButton","result","isConfirmed","splice","berat_nota","sendRequest","showModal","push","reset","user_id","username","password","kategori","description","keterangan","toUpperCase","postData2","resposn","message","otorisasi","hideModal","_this5","data_pembayaran","jenis","jumlah_rp","data_pembelian","detail_barang","datapembelian","pembayaran","postData","feedback","notabeli","jml_alamat","head","n_alamat_customer","concat","tgl_system","slice","detail","no_faktur_beli","Print","errorhandling","_this6","cash_bayar","context","handleSetPageSidebar","handleSetPageHeader","error","_this7","_this8","react_router_dom","to","data-tut","aria-hidden","panel","lib_default","steps","activeStep","TransaksiPembelian_ModalTambahBarang","simpanBarang","btlPembelian","nextLihatDataBarang","TransaksiPembelian_LihatDataBarang","TransaksiPembelian_ModalDataCustomer","TransaksiPembelian_ModalPembayaran","simpanPembayaran","ModalGlobal","size","content","OtorisasiHancur","cekOtorisasi","React","contextType","PageSettings","alamat","C_Users_Octavian_Documents_GitHub_nagagold_online_react_pos_lite_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_4___default","redux_form__WEBPACK_IMPORTED_MODULE_6__","nouperCase","isLoadingOtorisasi"],"mappings":"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","file":"static/js/11.9d77bcab.chunk.js","sourcesContent":["const ValidasiPembelian = (value) => {\r\n    const errors = {};\r\n    // if (!value.no_faktur) {\r\n    //     errors.no_faktur = \"No Faktur Harus Diisi\";\r\n    // }\r\n    if (!value.kode_dept) {\r\n        errors.kode_dept = \"Kode Jenis Harus Dipilih\";\r\n    }\r\n    if (!value.nama_barang) {\r\n        errors.nama_barang = \"Nama Barang Tidak Boleh Kosong\";\r\n    }\r\n    // if (!value.berat_nota) {\r\n    //     errors.berat_nota = \"Berat Nota Tidak Boleh Kosong\";\r\n    // }\r\n    if (!value.berat) {\r\n        errors.berat = \"Berat Tidak Boleh Kosong\";\r\n    }\r\n    // if (!value.harga_nota) {\r\n    //     errors.harga_nota = \"Harga Nota Tidak Boleh Kosong\";\r\n    // }\r\n    if (!value.harga) {\r\n        errors.harga = \"Harga Tidak Boleh Kosong\";\r\n    }\r\n    if (!value.harga_rata) {\r\n        errors.harga_rata = \"Harga Rata Tidak Boleh Kosong\";\r\n    }\r\n    if (!value.kondisi) {\r\n        errors.kondisi = \"Kondisi Harus Dipilih\";\r\n    }\r\n\r\n    return errors;\r\n}\r\n\r\nexport default ValidasiPembelian;\r\n\r\n\r\n","/* eslint-disable no-undef */\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, formValueSelector, reduxForm } from \"redux-form\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\nimport {\r\n  getDataJenis,\r\n  getDataSales,\r\n  getKondisiPembelian,\r\n  // showModal,\r\n} from \"../../../actions/datamaster_action\";\r\nimport {\r\n  HiidenFiled,\r\n  ReanderField,\r\n  ReanderSelect,\r\n} from \"../../../components/helpers/field\";\r\nimport { getItem } from \"../../../components/helpers/function\";\r\nimport { ToastNotification } from \"../../../components/helpers/notification\";\r\nimport { getData } from \"../../../config/axios\";\r\nimport ValidasiPembelian from \"../../../Validasi/Pembelian/ValidasiPembelian\";\r\nimport Loading from \"react-fullscreen-loading\";\r\nimport { Gramasi, NumberOnly } from \"../../../Validasi/normalize\";\r\n// import ModalGlobal from \"../../../components/helpers/ModalGlobal\";\r\n// import OtorisasiPembelian from \"./OtorisasiPembelian\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  locale: \"kr-KO\",\r\n});\r\n\r\nclass ModalTambahBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      harga_jual: true,\r\n      hargapergram: true,\r\n      ongkos: true,\r\n      total: true,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataSales());\r\n    this.props.dispatch(getDataJenis());\r\n    this.props.dispatch(getKondisiPembelian());\r\n    setTimeout(() => {\r\n      document.getElementById(\"kode_barcode\").focus();\r\n      HideKeyboard.postMessage(\"hide\")\r\n    }, 100);\r\n  }\r\n  getBarcode(e) {\r\n    clearTimeout(this.delay);\r\n    this.delay = setTimeout(() => {\r\n      this.setState({\r\n        searching: true,\r\n      });\r\n      let cek =\r\n        JSON.parse(localStorage.getItem(\"data_barang_pembelian_tmp\")) || [];\r\n      document.getElementById(\"kode_barcode\").focus();\r\n      let hasil_cek = cek.findIndex((hasil) => hasil.kode_barcode === e);\r\n      if (hasil_cek === -1) {\r\n        getData(\"pembelian/get/jual/\" + e)\r\n          .then((res) => {\r\n            if (res.data.length === 0) {\r\n              ToastNotification(\"info\", \"Data Yang Dicari Tidak Ada\");\r\n              this.props.change(\"nama_barang\", \"\");\r\n              this.props.change(\"nama_atribut\", \"\");\r\n              this.props.change(\"berat_atribut\", \"\");\r\n              this.props.change(\"harga_atribut\", \"\");\r\n              this.props.change(\"berat\", \"\");\r\n              this.props.change(\"berat_nota\", \"\");\r\n              this.props.change(\"kode_dept\", \"\");\r\n              this.props.change(\"harga\", \"\");\r\n              this.props.change(\"harga_nota\", \"\");\r\n              this.setState({\r\n                searching: false,\r\n              });\r\n            } else {\r\n              this.setState({\r\n                searching: false,\r\n              });\r\n              res.data.forEach((list, index) => {\r\n                let datamember = getItem(\"data_customer_pembelian_tmp\");\r\n                // console.log(datamember.kode_customer);\r\n                if (datamember === null || datamember.length === 0) {\r\n                  let data_cusomer = {\r\n                    kode_sales: list.kode_sales,\r\n                    jenis_pelanggan:\r\n                      list.kode_member === \"NONMEMBER\" ? \"NONMEMBER\" : \"MEMBER\",\r\n                    kode_customer: list.kode_member,\r\n                    nama_customer: list.nama_customer,\r\n                    alamat_customer: list.alamat_customer,\r\n                    no_hp: list.no_hp,\r\n                  };\r\n                  // document.getElementById(\"berat\").focus();\r\n                  localStorage.setItem(\r\n                    \"data_customer_pembelian_tmp\",\r\n                    JSON.stringify(data_cusomer)\r\n                  );\r\n                  this.props.change(\"nama_barang\", list.nama_barang);\r\n                  this.props.change(\"nama_atribut\", list.nama_atribut);\r\n                  this.props.change(\"berat_atribut\", list.berat_atribut);\r\n                  this.props.change(\"harga_atribut\", list.harga_atribut);\r\n                  this.props.change(\"berat_nota\", list.berat);\r\n                  this.props.change(\"berat\", list.berat);\r\n                  this.props.change(\"kode_dept\", list.kode_dept);\r\n                  this.props.change(\"harga_nota\", parseInt(list.harga_jual) + parseInt(list.harga_atribut));\r\n                  this.setState({\r\n                    harga_jual: false,\r\n                    hargapergram: false,\r\n                    ongkos: false,\r\n                  });\r\n                } else {\r\n                  this.setState({\r\n                    searching: false,\r\n                  });\r\n                  if (list.kode_member !== datamember.kode_customer) {\r\n                    ToastNotification(\"info\", \"Data Customer Berbeda\");\r\n                    return false;\r\n                  } else {\r\n                    let data_cusomer = {\r\n                      kode_sales: list.kode_sales,\r\n                      jenis_pelanggan:\r\n                        list.kode_member === \"NONMEMBER\"\r\n                          ? \"NONMEMBER\"\r\n                          : \"MEMBER\",\r\n                      kode_customer: list.kode_member,\r\n                      nama_customer: list.nama_customer,\r\n                      alamat_customer: list.alamat_customer,\r\n                      no_hp: list.no_hp,\r\n                    };\r\n                    // document.getElementById(\"berat\").focus();\r\n                    localStorage.setItem(\r\n                      \"data_customer_pembelian_tmp\",\r\n                      JSON.stringify(data_cusomer)\r\n                    );\r\n                    this.props.change(\"kadar\", list.kadar);\r\n                    this.props.change(\"nama_barang\", list.nama_barang);\r\n                    this.props.change(\"nama_atribut\", list.nama_atribut);\r\n                    this.props.change(\"berat_atribut\", list.berat_atribut);\r\n                    this.props.change(\"harga_atribut\", list.harga_atribut);\r\n                    this.props.change(\"berat_nota\", list.berat);\r\n                    this.props.change(\"berat\", list.berat);\r\n                    this.props.change(\"kode_dept\", list.kode_dept);\r\n                    this.props.change(\"harga_nota\", parseInt(list.harga_jual) + parseInt(list.harga_atribut));\r\n                    this.setState({\r\n                      harga_jual: false,\r\n                      hargapergram: false,\r\n                      ongkos: false,\r\n                      searching: false,\r\n                    });\r\n                  }\r\n                }\r\n              });\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            this.props.change(\"nama_barang\", \"\");\r\n            this.props.change(\"nama_atribut\", \"\");\r\n            this.props.change(\"berat_atribut\", \"\");\r\n            this.props.change(\"harga_atribut\", \"\");\r\n            this.props.change(\"berat\", \"\");\r\n            this.props.change(\"kadar\", \"\");\r\n            this.props.change(\"kode_dept\", \"\");\r\n            this.props.change(\"harga\", \"\");\r\n            ToastNotification(\"info\", \"Data Yang Dicari Tidak Ada\");\r\n            this.setState({\r\n              searching: false,\r\n            });\r\n          });\r\n      } else {\r\n        this.props.change(\"nama_barang\", \"\");\r\n        this.props.change(\"nama_atribut\", \"\");\r\n        this.props.change(\"berat_atribut\", \"\");\r\n        this.props.change(\"harga_atribut\", \"\");\r\n        this.props.change(\"kadar\", \"\");\r\n        this.props.change(\"berat\", \"\");\r\n        this.props.change(\"kode_dept\", \"\");\r\n        this.props.change(\"harga\", \"\");\r\n        ToastNotification(\"info\", \"Kode Barcode Sudah Ada Dalam Table\");\r\n        this.setState({\r\n          searching: false,\r\n        });\r\n      }\r\n    }, 1500);\r\n  }\r\n  hitungTotal() {\r\n    this.props.change(\"harga_rata\", this.props.harga_rata);\r\n    // console.log(this.props.harga_beli);\r\n  }\r\n\r\n  setValue(e) {\r\n    // console.log(e);\r\n    // console.log(e === \"\" ? 'bener' : 'salah');\r\n    // this.props.change(\"harga_rata\", );\r\n\r\n    if (e === \"\") {\r\n      this.change(\"berat_nota\", 1);\r\n      // document.getElementById(\"berat_nota\")[0].value = 0;\r\n    }\r\n  }\r\n\r\n  getHarga(e) {\r\n    let kode = e.split(\"~\");\r\n    getData(\"parabeli/get/by-kode-kondisi/\" + kode[0]).then((res) => {\r\n      this.props.change(\"potongan\", res.data.potongan);\r\n      // this.hitungTotal()\r\n      this.props.change(\"harga\", this.props.harga_beli);\r\n    });\r\n  }\r\n\r\n  // otorisasi(e) {\r\n  //   let harus_bayar2 = e.replace(\"Rp.\", \"\");\r\n  //   let harus_bayar3 = harus_bayar2.replaceAll(\",\", \"\");\r\n  //   if (parseFloat(harus_bayar3) > parseFloat(this.props.harga_nota)) {\r\n  //     this.props.dispatch(showModal());\r\n  //   }\r\n  // }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n        autoComplete=\"off\"\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-12 col-md-4\">\r\n            <Field\r\n              id=\"potongan\"\r\n              name=\"potongan\"\r\n              component={HiidenFiled}\r\n              type=\"hidden\"\r\n              readOnly={true}\r\n            />\r\n            <Field\r\n              onChange={(e) => this.getBarcode(e.target.value)}\r\n              id=\"kode_barcode\"\r\n              name=\"kode_barcode\"\r\n              label=\"Kode Barcode\"\r\n              type=\"number\"\r\n              normalize={(value) => value.replace(/[^\\d]/g, \"\")}\r\n              placeholder=\"Masukan Kode Barcode\"\r\n              component={ReanderField}\r\n            />\r\n          </div>\r\n          <div className=\"col-12 col-md-4\">\r\n            <Field\r\n              name=\"kondisi\"\r\n              label=\"Kondisi\"\r\n              onChange={(e) => this.getHarga(e)}\r\n              options={this.props.datakondisi\r\n                .filter((list) => list.kondisi_barang !== undefined)\r\n                .map((list) => {\r\n                  let data = {\r\n                    value: list._id+\"~\"+list.kondisi_barang,\r\n                    name: list.kondisi_barang,\r\n                  };\r\n                  return data || [];\r\n                })}\r\n              placeholder=\"Pilih Kondisi\"\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col-12 col-md-4\">\r\n            <Field\r\n              label=\"Kode Jenis\"\r\n              name=\"kode_dept\"\r\n              options={this.props.datajenis\r\n                .filter((list) => list.kode_dept !== undefined)\r\n                .map((list) => {\r\n                  let data = {\r\n                    value: list.kode_dept,\r\n                    name: list.kode_dept + \" - \" + list.nama_dept,\r\n                  };\r\n                  return data || [];\r\n                })}\r\n              placeholder={\"Silahkan Pilih Kode Jenis\"}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col-12 col-md-4\">\r\n            <Field\r\n              name=\"nama_barang\"\r\n              label=\"Nama Barang\"\r\n              type=\"text\"\r\n              placeholder=\"Masukan Nama Barang\"\r\n              component={ReanderField}\r\n            />\r\n          </div>\r\n          <div className=\"col-12 col-md-2\">\r\n            <Field\r\n              name=\"kadar\"\r\n              label=\"Kadar\"\r\n              type=\"tel\"\r\n              readOnly={true}\r\n              normalize={NumberOnly}\r\n              placeholder=\"Masukan Kadar\"\r\n              component={ReanderField}\r\n            />\r\n          </div>\r\n          <div className=\"col-12 col-md-2\">\r\n            <Field\r\n              name=\"berat_nota\"\r\n              label=\"Berat Nota\"\r\n              readOnly={true}\r\n              normalize={Gramasi}\r\n              placeholder=\"Masukan Berat Nota\"\r\n              component={ReanderField}\r\n            />\r\n          </div>\r\n          <div className=\"col-12 col-md-4\">\r\n            <Field\r\n              id=\"berat\"\r\n              name=\"berat\"\r\n              label=\"Berat\"\r\n              type=\"number\"\r\n              normalize={Gramasi}\r\n              onChange={this.hitungTotal()}\r\n              placeholder=\"Masukan Berat\"\r\n              component={ReanderField}\r\n            />\r\n          </div>\r\n          <div className=\"col-12 col-md-4\">\r\n            <Field\r\n              name=\"harga_nota\"\r\n              label=\"Harga Nota\"\r\n              type=\"tel\"\r\n              readOnly={true}\r\n              onChange={this.hitungTotal()}\r\n              {...currencyMask}\r\n              placeholder=\"Masukan Harga Nota\"\r\n              component={ReanderField}\r\n            />\r\n          </div>\r\n          <div className=\"col-12 col-md-4\">\r\n            <Field\r\n              name=\"harga\"\r\n              label=\"Harga Beli\"\r\n              type=\"tel\"\r\n              {...currencyMask}\r\n              // onBlur={(e) => this.otorisasi(e.target.value)}\r\n              onChange={this.hitungTotal()}\r\n              placeholder=\"Masukan Harga Beli\"\r\n              component={ReanderField}\r\n            />\r\n          </div>\r\n          <div className=\"col-12 col-md-4\">\r\n            <Field\r\n              name=\"harga_rata\"\r\n              label=\"Harga Rata\"\r\n              type=\"tel\"\r\n              readOnly={true}\r\n              {...currencyMask}\r\n              placeholder=\"Masukan Harga Rata\"\r\n              component={ReanderField}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"col-12 col-md-12 text-right\">\r\n            <label>&nbsp;</label>\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              disabled={this.props.isLoadingSimpanBarang}\r\n              type=\"submit\"\r\n            >\r\n              {this.props.isLoadingSimpanBarang ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Menyimpan\r\n                </>\r\n              ) : (\r\n                \"Simpan Barang\"\r\n              )}\r\n            </button>\r\n          </div>\r\n            {/* <ModalGlobal  title=\"Otorisasi Pembelian\"  content={<OtorisasiPembelian />} /> */}\r\n        </div>\r\n        {this.state.searching ? (\r\n          <Loading\r\n            loading\r\n            background=\"rgba(0, 0, 0, 0.35)\"\r\n            loaderColor=\"rgba(94, 147, 117, 1)\"\r\n          />\r\n        ) : null}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\n// ModalTambahBarang = reduxForm({\r\n//   form: \"ModalTambahBarang\",\r\n//   enableReinitialize: true,\r\n//   validate: ValidasiMasterDataHadiah,\r\n// })(ModalTambahBarang);\r\n// export default connect(maptostate, null)(ModalTambahBarang);\r\n\r\nModalTambahBarang = reduxForm({\r\n  form: \"ModalTambahBarang\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiPembelian,\r\n})(ModalTambahBarang);\r\n\r\nconst selector = formValueSelector(\"ModalTambahBarang\"); // <-- same as form name\r\nexport default connect((state) => {\r\n  const { harga, berat, potongan, harga_nota } = selector(\r\n    state,\r\n    \"harga\",\r\n    \"berat\",\r\n    \"harga_nota\",\r\n    \"potongan\"\r\n  );\r\n  let potongan_tmp = parseInt(potongan || 0) * parseFloat(berat || 0);\r\n  // console.log(harga_nota);\r\n  // console.log(potongan_tmp);\r\n  return {\r\n    setBarangPembelian: state.penjualan.setBarangPembelian,\r\n    harga_rata: parseFloat(harga || 0) / parseFloat(berat || 0) || 0,\r\n    harga_potong: parseInt(harga_nota || 0) - parseInt(potongan_tmp || 0),\r\n    harga_beli: parseInt(harga_nota || 0) - parseInt(potongan_tmp || 0),\r\n    DataSales: state.datamaster.getDataSales,\r\n    datajenis: state.datamaster.getDataJenis,\r\n    harga_nota: harga_nota,\r\n    datakondisi: state.datamaster.getKondisiPembelian,\r\n    initialValues: {\r\n      kadar: 100\r\n    }\r\n  };\r\n})(ModalTambahBarang);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { getDataSales } from \"../../../actions/datamaster_action\";\r\nimport { ReanderField, ReanderSelect } from \"../../../components/helpers/field\";\r\nimport { ToastNotification } from \"../../../components/helpers/notification\";\r\nimport { getData } from \"../../../config/axios\";\r\nimport ValidasiFormDataMemberPenjualan from \"../../../Validasi/Penjualan/ValidasiFormDataMemberPenjualan\";\r\n\r\nconst maptostate = (state) => {\r\n  let data_customer =\r\n    localStorage.getItem(\"data_customer_pembelian_tmp\") === null || undefined\r\n      ? []\r\n      : JSON.parse(localStorage.getItem(\"data_customer_pembelian_tmp\") || []);\r\n  return {\r\n    initialValues: {\r\n      kode_sales: data_customer.kode_sales || \"\",\r\n      jenis_pelanggan: data_customer.jenis_pelanggan || \"\",\r\n      kode_customer: data_customer.kode_customer || \"\",\r\n      nama_customer: data_customer.nama_customer || \"\",\r\n      no_hp: data_customer.no_hp || \"\",\r\n      alamat_customer: data_customer.alamat_customer || \"\",\r\n    },\r\n    DataSales: state.datamaster.getDataSales,\r\n  };\r\n};\r\n\r\nconst jenis_pelanggan = [\r\n  {\r\n    value: \"MEMBER\",\r\n    name: \"MEMBER\",\r\n  },\r\n  {\r\n    value: \"NONMEMBER\",\r\n    name: \"NON MEMBER\",\r\n  },\r\n];\r\nclass ModalDataCustomer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showMember: true,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataSales());\r\n    let data_customer =\r\n      localStorage.getItem(\"data_customer_pembelian_tmp\") === null || undefined\r\n        ? []\r\n        : JSON.parse(localStorage.getItem(\"data_customer_pembelian_tmp\") || []);\r\n    if (data_customer && data_customer.jenis_pelanggan === \"MEMBER\") {\r\n      this.setState({\r\n        showMember: false,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        showMember: true,\r\n      });\r\n    }\r\n  }\r\n  changemember(e) {\r\n    // console.log(e);\r\n    if (e === \"MEMBER\") {\r\n      this.setState({\r\n        showMember: false,\r\n      });\r\n    } else {\r\n      this.props.change(\"kode_customer\", \"\");\r\n      this.props.change(\"nama_customer\", \"\");\r\n      this.props.change(\"no_hp\", \"\");\r\n      this.props.change(\"alamat_customer\", \"\");\r\n      this.setState({\r\n        showMember: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  getMember(e) {\r\n    // console.log(e);\r\n    getData(\"member/get/by-kode-member/\" + e)\r\n      .then((res) => {\r\n        // console.log(res.data);\r\n        if (res.data.length === 0) {\r\n          ToastNotification(\"info\", \"Member Yang Anda Masukan Tidak Ada !!!\");\r\n        } else {\r\n          res.data.forEach((item, index) => {\r\n            this.props.change(\"nama_customer\", item.nama_customer);\r\n            this.props.change(\"no_hp\", item.no_hp);\r\n            this.props.change(\"alamat_customer\", item.alamat_customer);\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        ToastNotification(\r\n          \"info\",\r\n          \"Terjadi Kesalahan SIlahkan Ulangi Kembali !!!\"\r\n        );\r\n      });\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n        autoComplete=\"off\"\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-4\">\r\n            <Field\r\n              tabIndex=\"1\"\r\n              name=\"kode_sales\"\r\n              label=\"Pilih Kode Sales\"\r\n              placeholder=\"Masukan Kode Sales\"\r\n              options={this.props.DataSales.filter(\r\n                (list) => list.kode_sales !== undefined\r\n              ).map((list) => {\r\n                let data = {\r\n                  value: list.kode_sales,\r\n                  name: list.kode_sales,\r\n                };\r\n                return data;\r\n              })}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              tabIndex=\"2\"\r\n              name=\"jenis_pelanggan\"\r\n              label=\"Pilih Pelanggan\"\r\n              onChange={(e) => this.changemember(e)}\r\n              placeholder=\"Silahkan Pilih Pelanggan\"\r\n              options={jenis_pelanggan}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              tabIndex=\"3\"\r\n              name=\"kode_customer\"\r\n              onChange={(e) => this.getMember(e.target.value)}\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              readOnly={this.state.showMember}\r\n              label=\"Kode Customer\"\r\n              placeholder=\"Masukan Kode Customer\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              tabIndex=\"4\"\r\n              name=\"nama_customer\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Nama Customer\"\r\n              placeholder=\"Masukan Nama Customer\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              tabIndex=\"5\"\r\n              name=\"no_hp\"\r\n              component={ReanderField}\r\n              type=\"number\"\r\n              label=\"No Hp\"\r\n              placeholder=\"Masukan No Hp\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              tabIndex=\"6\"\r\n              name=\"alamat_customer\"\r\n              component={ReanderField}\r\n              type=\"textarea\"\r\n              label=\"Alamat Customer\"\r\n              placeholder=\"Masukan Alamat Customer\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <div className=\"row\">\r\n          <div className=\"col-6 text-left\">\r\n            <button\r\n              onClick={() => this.props.back()}\r\n              className=\"btn btn-secondary\"\r\n              type=\"button\"\r\n            >\r\n              Kembali\r\n            </button>\r\n          </div>\r\n          <div className=\"col-6 text-right\">\r\n            <button className=\"btn btn-primary\" type=\"submit\"\r\n            disabled={this.props.isLoading}\r\n            >\r\n            {this.props.isLoading ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Selesai Pembelian\r\n                </>\r\n              ) : (\r\n                \"Selesai Pembelian\"\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {/* <div className=\"row\">\r\n          <div className=\"col-8\"></div>\r\n          <div className=\"col-4\">\r\n            <div className=\"col-12 text-right\">\r\n              <button className=\"btn btn-secondary\"\r\n              onClick={()=>this.props.back()}\r\n              > Back </button>\r\n              &nbsp;\r\n              <button\r\n              tabIndex=\"7\"\r\n                className=\"btn btn-primary\"\r\n                type=\"submit\"\r\n              >\r\n                {\" \"}\r\n                Next{\" \"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div> */}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nModalDataCustomer = reduxForm({\r\n  form: \"ModalDataCustomer\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiFormDataMemberPenjualan,\r\n})(ModalDataCustomer);\r\nexport default connect(maptostate, null)(ModalDataCustomer);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, formValueSelector, reduxForm } from \"redux-form\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\nimport { getDataSales } from \"../../../actions/datamaster_action\";\r\nimport { ReanderField, ReanderSelect } from \"../../../components/helpers/field\";\r\nimport { NumberOnly } from \"../../../Validasi/normalize\";\r\nimport ValidasiPembayaran from \"../../../Validasi/Penjualan/ValidasiPembayaran\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  locale: \"kr-KO\",\r\n});\r\nconst jenis_pembayaran = [\r\n  {\r\n    value: \"CASH\",\r\n    name: \"CASH\",\r\n  },\r\n];\r\nclass ModalPembayaran extends Component {\r\n  state = {};\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataSales());\r\n    let data_barang_penjualan = JSON.parse(\r\n      localStorage.getItem(\"data_barang_pembelian_tmp\")\r\n    );\r\n    let total = 0;\r\n    data_barang_penjualan.forEach((item, index) => {\r\n      // console.log(item.total);\r\n      total = total + item.harga;\r\n      this.props.change(\"grand_total_pembayaran\", total);\r\n    });\r\n    this.props.change(\"jenis\", \"CASH\");\r\n    setTimeout(() => {\r\n      document.getElementById(\"cash_trx_pembelian\").focus();\r\n    }, 100);\r\n  }\r\n  hitungTotal() {\r\n    this.props.change(\"kembali\", this.props.kembali);\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n        autoComplete=\"off\"\r\n      >\r\n        <br />\r\n        <br />\r\n        <div className=\"row\">\r\n          <div className=\"col-6\">\r\n            <Field\r\n              name=\"grand_total_pembayaran\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              onChange={this.hitungTotal()}\r\n              readOnly={true}\r\n              {...currencyMask}\r\n              label=\"Grand Total Pembayaran\"\r\n              placeholder=\"Masukan Grand Total\"\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <Field\r\n              name=\"jenis\"\r\n              label=\"Pilih Jenis Bayar\"\r\n              placeholder=\"Pilih Jenis Pembayaran\"\r\n              options={jenis_pembayaran}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <Field\r\n              tabIndex=\"1\"\r\n              name=\"cash\"\r\n              id=\"cash_trx_pembelian\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Cash\"\r\n              onChange={this.hitungTotal()}\r\n              {...currencyMask}\r\n              normalize={NumberOnly}\r\n              placeholder=\"Masukan Total Pembayaran\"\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <Field\r\n              name=\"kembali\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              readOnly={true}\r\n              label=\"Kembali\"\r\n              {...currencyMask}\r\n              normalize={NumberOnly}\r\n              placeholder=\"Kembalian\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <div className=\"row\">\r\n          <div className=\"col-6 text-left\">\r\n            <button\r\n              onClick={() => this.props.back()}\r\n              className=\"btn btn-secondary\"\r\n              type=\"button\"\r\n            >\r\n              Kembali\r\n            </button>\r\n          </div>\r\n          <div className=\"col-6 text-right\">\r\n          <button\r\n              tabIndex=\"2\"\r\n              className=\"btn btn-primary \"\r\n              disabled={this.props.isLoading}\r\n              type=\"submit\"\r\n            >\r\n              {this.props.isLoading ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Diproses\r\n                </>\r\n              ) : (\r\n                \"Bayar Sekarang\"\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {/* <div className=\"row\">\r\n          <div className=\"col-6\"></div>\r\n          <div className=\"col-6 text-right\">\r\n            <button\r\n              className=\"btn btn-secondary\"\r\n              onClick={() => this.props.back()}\r\n            >\r\n              {\" \"}\r\n              Back{\" \"}\r\n            </button>\r\n            &nbsp;\r\n            <button\r\n              tabIndex=\"2\"\r\n              className=\"btn btn-primary \"\r\n              disabled={this.props.isLoading}\r\n              type=\"submit\"\r\n            >\r\n              {this.props.isLoading ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Diproses\r\n                </>\r\n              ) : (\r\n                \"Bayar Sekarang\"\r\n              )}\r\n            </button>\r\n           \r\n          </div>\r\n        </div> */}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nModalPembayaran = reduxForm({\r\n  form: \"ModalPembayaran\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiPembayaran,\r\n})(ModalPembayaran);\r\n\r\nconst selector = formValueSelector(\"ModalPembayaran\"); // <-- same as form name\r\n\r\nexport default connect((state) => {\r\n  const { grand_total_pembayaran, cash } = selector(\r\n    state,\r\n    \"grand_total_pembayaran\",\r\n    \"cash\"\r\n  );\r\n  return {\r\n    kembali: parseFloat(grand_total_pembayaran || 0) - parseFloat(cash || 0),\r\n  };\r\n})(ModalPembayaran);\r\n","\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { formValueSelector, reduxForm } from \"redux-form\";\r\nimport { getDataJenis, getDataSales, getKondisiPembelian } from \"../../../actions/datamaster_action\";\r\nimport Tabel from \"../../../components/helpers/tabel\";\r\nimport ValidasiPembelian from \"../../../Validasi/Pembelian/ValidasiPembelian\";\r\n\r\nclass LihatDataBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      harga_jual: true,\r\n      hargapergram: true,\r\n      ongkos: true,\r\n      total: true,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataSales());\r\n    this.props.dispatch(getDataJenis());\r\n    this.props.dispatch(getKondisiPembelian());\r\n  }\r\n\r\n  render() {\r\n      return (\r\n        \r\n          <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <Tabel\r\n              keyField=\"nama_barang\"\r\n              exportCsv={false}\r\n              data={\r\n                this.props.setBarangPembelian.length === 0\r\n                  ? JSON.parse(\r\n                      localStorage.getItem(\"data_barang_pembelian_tmp\")\r\n                    )\r\n                  : this.props.setBarangPembelian\r\n              }\r\n              // tambahData={true}\r\n              // btnText=\"Tambah Data Customer\"\r\n              columns={this.props.columns}\r\n              // btnOptional={true}\r\n              // btnTextOptional=\"Tambah Data Barang\"\r\n              // handleClick={() => this.ShowModalCustomer()}\r\n              // handleClickOptional={() => this.ShowModalBarang()}\r\n              empty={true}\r\n              textEmpty=\"Data Barang Kosong\"\r\n            />\r\n          </div>\r\n     </div>\r\n    );\r\n  }\r\n}\r\n\r\n// LihatDataBarang = reduxForm({\r\n//   form: \"LihatDataBarang\",\r\n//   enableReinitialize: true,\r\n//   validate: ValidasiMasterDataHadiah,\r\n// })(LihatDataBarang);\r\n\r\nLihatDataBarang = reduxForm({\r\n    form: \"LihatDataBarang\",\r\n    enableReinitialize: true,\r\n    validate:ValidasiPembelian\r\n})(LihatDataBarang);\r\n// export default connect(maptostate, null)(LihatDataBarang);\r\n\r\nconst selector = formValueSelector(\"LihatDataBarang\"); // <-- same as form name\r\n\r\nexport default connect((state) => {\r\n  const { harga, berat } = selector(\r\n    state,\r\n    \"harga\",\r\n    \"berat\"\r\n  );\r\n  return {\r\n    setBarangPembelian: state.penjualan.setBarangPembelian,\r\n    harga_rata: parseFloat(harga || 0) / parseFloat(berat || 0) || 0,\r\n    DataSales: state.datamaster.getDataSales,\r\n    datajenis: state.datamaster.getDataJenis,\r\n    datakondisi: state.datamaster.getKondisiPembelian,\r\n  };\r\n})(LihatDataBarang);\r\n","/* eslint-disable no-undef */\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport { setBarangPembelian } from \"../../../actions/penjualan_action.jsx\";\r\n// import { ToastNotification } from \"../../../components/helpers/notification.jsx\";\r\nimport { Panel, PanelHeader } from \"../../../components/panel/panel.jsx\";\r\n// import HeadTransaksiPembelian from \"./HeadTransaksiPembelian.jsx\";\r\nimport Stepper from \"react-stepper-horizontal\";\r\nimport ModalTambahBarang from \"./ModalTambahBarang.jsx\";\r\nimport { reset } from \"redux-form\";\r\nimport { ToastNotification } from \"../../../components/helpers/notification.jsx\";\r\nimport ModalDataCustomer from \"./ModalDataCustomer.jsx\";\r\nimport ModalPembayaran from \"./ModalPembayaran.jsx\";\r\nimport { postData, postData2 } from \"../../../config/axios.jsx\";\r\nimport LihatDataBarang from \"./LihatDataBarang.jsx\";\r\nimport OtorisasiHancur from \"../../Barang/HancurDataBarang/OtorisasiHancur.jsx\";\r\nimport ModalGlobal from \"../../../components/helpers/ModalGlobal.jsx\";\r\nimport { hideModal, showModal } from \"../../../actions/datamaster_action.jsx\";\r\nimport { PageSettings } from \"../../../config/page-settings.js\";\r\n\r\nconst maptostate = (state) => {\r\n  return {\r\n    setBarangPembelian: state.penjualan.setBarangPembelian,\r\n  };\r\n};\r\nclass FormTransaksiPembelian extends React.Component {\r\n  static contextType = PageSettings;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      step: 0,\r\n      isLoadingBatal: false,\r\n      isLoadingSimanBeli: false,\r\n      isLoadingDataCustomer: false,\r\n      isLoadingSimpanBarang: false,\r\n      columns: [\r\n        {\r\n          dataField: \"kode_barcode\",\r\n          text: \"Kode Barcode\",\r\n          footerAttrs: {\r\n            colSpan: \"3\",\r\n          },\r\n          footer: \"Total\",\r\n        },\r\n        {\r\n          dataField: \"nama_barang\",\r\n          text: \"Nama Barang\",\r\n        },\r\n\r\n        {\r\n          dataField: \"kode_dept\",\r\n          text: \"Jenis\",\r\n        },\r\n        {\r\n          dataField: \"harga_nota\",\r\n          text: \"Harga Nota\",\r\n          formatter: (cell) => {\r\n            return <span>{parseInt(cell).toLocaleString(\"kr-KO\")}</span>;\r\n          },\r\n          footer: (columnData) =>\r\n            parseInt(\r\n              columnData.reduce((acc, item) => acc + item, 0)\r\n            ).toLocaleString(\"kr-KO\"),\r\n        },\r\n\r\n        {\r\n          dataField: \"berat_nota\",\r\n          text: \"Berat Nota\",\r\n          formatter: (cell) => {\r\n            return <span>{parseFloat(cell).toFixed(3)}</span>;\r\n          },\r\n          footer: (columnData) =>\r\n            parseFloat(columnData.reduce((acc, item) => acc + item, 0)).toFixed(\r\n              3\r\n            ),\r\n        },\r\n        {\r\n          dataField: \"berat\",\r\n          text: \"Berat\",\r\n          formatter: (cell) => {\r\n            return <span>{parseFloat(cell).toFixed(3)}</span>;\r\n          },\r\n          footer: (columnData) =>\r\n            parseFloat(columnData.reduce((acc, item) => acc + item, 0)).toFixed(\r\n              3\r\n            ),\r\n        },\r\n\r\n        {\r\n          dataField: \"harga\",\r\n          text: \"Harga Beli\",\r\n          formatter: (cell) => {\r\n            return <span>{parseInt(cell).toLocaleString(\"kr-KO\")}</span>;\r\n          },\r\n          footer: (columnData) =>\r\n            parseInt(\r\n              columnData.reduce((acc, item) => acc + item, 0)\r\n            ).toLocaleString(\"kr-KO\"),\r\n        },\r\n        {\r\n          dataField: \"kondisi\",\r\n          text: \"Kondisi\",\r\n          footer: \"\",\r\n        },\r\n\r\n        {\r\n          dataField: \"action\",\r\n          text: \"Action\",\r\n          csvExport: false,\r\n          headerClasses: \"text-center\",\r\n          formatter: (rowcontent, row, index) => {\r\n            return (\r\n              <div className=\"row text-center\">\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => this.hapusdata(index)}\r\n                    className=\"btn btn-danger mr-3\"\r\n                  >\r\n                    <i className=\"fa fa-trash\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          },\r\n          footer: \"\",\r\n        },\r\n      ],\r\n    };\r\n  }\r\n\r\n  hapusdata(id) {\r\n    Swal.fire({\r\n      title: \"Anda Yakin !!\",\r\n      text: \"Ingin Menghapus Data Ini ?\",\r\n      icon: \"warning\",\r\n      position: \"top-center\",\r\n      cancelButtonText: \"Tidak\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"OK\",\r\n      showConfirmButton: true,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        let data = JSON.parse(\r\n          localStorage.getItem(\"data_barang_pembelian_tmp\")\r\n        );\r\n        data.splice(id, 1);\r\n        localStorage.setItem(\"data_barang_pembelian_tmp\", JSON.stringify(data));\r\n        if (data.length === 0) {\r\n          this.setState({\r\n            step: 0,\r\n          });\r\n        }\r\n        this.props.dispatch(setBarangPembelian(data));\r\n      }\r\n    });\r\n  }\r\n\r\n  simpanBarang(data) {\r\n    // console.log(data);\r\n    let kode = data.kondisi.split(\"~\");\r\n    let hasil = {\r\n      kode_barcode:\r\n        data.kode_barcode === undefined || \"\" ? \"-\" : data.kode_barcode,\r\n      nama_barang: data.nama_barang,\r\n      kondisi: kode[1],\r\n      kadar: parseInt(data.kadar || 0),\r\n      kode_dept: data.kode_dept,\r\n      harga_rata: parseInt(data.harga_rata),\r\n      harga_nota: parseInt(data.harga_nota) || 0,\r\n      harga: parseInt(data.harga),\r\n      berat_nota: parseFloat(data.berat_nota) || 0,\r\n      berat: parseFloat(data.berat),\r\n    }\r\n    this.setState({\r\n      hasil : hasil\r\n    })\r\n    // console.log(data.kode_barcode);\r\n    if (data.kode_barcode === undefined) {\r\n      this.sendRequest(data)\r\n    }else{\r\n      if(data.harga_nota < data.harga){\r\n        ToastNotification(\"info\" , 'Harga Melebihi Nota')\r\n        this.props.dispatch(showModal())\r\n        return false\r\n      } else {  \r\n        this.sendRequest(data)\r\n      }\r\n    }\r\n  }\r\n  sendRequest(data) {\r\n    let kode = data.kondisi.split(\"~\");\r\n    this.setState({\r\n      isLoadingSimpanBarang: true,\r\n      step: 1,\r\n    });\r\n    // console.log(this.state.hasil);\r\n    let hasil = {\r\n      kode_barcode:\r\n        data.kode_barcode === undefined || \"\" ? \"-\" : data.kode_barcode,\r\n      nama_barang: data.nama_barang,\r\n      kondisi: kode[1],\r\n      kode_dept: data.kode_dept,\r\n      kadar: parseInt(data.kadar || 0),\r\n      harga_rata: parseInt(data.harga_rata),\r\n      harga_nota: parseInt(data.harga_nota) || 0,\r\n      harga: parseInt(data.harga),\r\n      berat_nota: parseFloat(data.berat_nota) || 0,\r\n      berat: parseFloat(data.berat),\r\n    }\r\n\r\n    if (data.kondisi === undefined) {\r\n      return false;\r\n    }\r\n\r\n    let cek =\r\n      JSON.parse(localStorage.getItem(\"data_barang_pembelian_tmp\")) || [];\r\n    // this.props.dispatch(hideModal());\r\n    document.getElementById(\"kode_barcode\").focus();\r\n    let hasil_cek = cek.findIndex(\r\n      (hasil) => hasil.kode_barcode === data.kode_barcode\r\n    );\r\n    if (hasil_cek === -1) {\r\n      cek.push(hasil);\r\n      ToastNotification(\"success\", \"Barang Berhasil Ditambahkan\");\r\n      localStorage.setItem(\"data_barang_pembelian_tmp\", JSON.stringify(cek));\r\n      this.props.dispatch(setBarangPembelian(cek));\r\n      this.props.dispatch(reset(\"ModalTambahBarang\"));\r\n      setTimeout(() => {\r\n        this.setState({\r\n          isLoadingSimpanBarang: false,\r\n        });\r\n      }, 200);\r\n    } else {\r\n      setTimeout(() => {\r\n        this.setState({\r\n          isLoadingSimpanBarang: false,\r\n        });\r\n      }, 200);\r\n      document.getElementById(\"kode_barcode\").focus();\r\n      ToastNotification(\"info\", \"Barang Sudah Ada Di Tabel\");\r\n    }\r\n  }\r\n\r\n  cekOtorisasi(data) {\r\n    let hasil = {\r\n      user_id: data.username,\r\n      password: data.password,\r\n      kategori: \"PEMBELIAN\",\r\n      description: \"PEMBELIAN DI ATAS NOTA\",\r\n      keterangan: data.keterangan.toUpperCase() || \"-\"\r\n    }\r\n    postData2(\"authorization\", hasil)\r\n      .then((resposn) => {\r\n        this.sendRequest(this.state.hasil)\r\n        ToastNotification(\"success\", resposn.data.message);\r\n        localStorage.setItem(\"otorisasi\", \"false\");\r\n        this.setState({\r\n          otorisasi: true,\r\n        });\r\n        this.props.dispatch(hideModal())\r\n      })\r\n      .catch((err) => {\r\n        this.setState({\r\n          otorisasi: false,\r\n        });\r\n        ToastNotification(\"info\", \"Otorisasi Gagal..\");\r\n      });\r\n  }\r\n  handleSubmit(data) {\r\n    // ToastNotification('success','')\r\n    // this.setState({\r\n    //   step: 3,\r\n    // });\r\n    this.setState({\r\n      isLoading: true,\r\n    });\r\n    localStorage.setItem(\"data_customer_pembelian_tmp\", JSON.stringify(data));\r\n\r\n    setTimeout(() => {\r\n      let data_barang_penjualan = JSON.parse(\r\n        localStorage.getItem(\"data_barang_pembelian_tmp\")\r\n      );\r\n      let total = 0;\r\n      data_barang_penjualan.forEach((item, index) => {\r\n        // console.log(item.total);\r\n        total = total + item.harga;\r\n      });\r\n      let data_pembayaran = {\r\n        jenis: \"CASH\",\r\n        jumlah_rp: total,\r\n      };\r\n      // let cash = 0;\r\n      // if (data.cash > data.grand_total_pembayaran) {\r\n      //   cash = data.grand_total_pembayaran;\r\n      // } else {\r\n      //   cash = data.cash;\r\n      // }\r\n      // let data_pembayaran = {\r\n      //   jenis: data.jenis,\r\n      //   jumlah_rp: cash,\r\n      // };\r\n\r\n      // if (parseInt(data.cash) < parseInt(data.grand_total_pembayaran)) {\r\n      //   let cash_bayar =\r\n      //     parseInt(data.grand_total_pembayaran) - parseInt(data.cash);\r\n      //   ToastNotification(\r\n      //     \"info\",\r\n      //     \"Pembayaran Masih Kurang Rp.\" +\r\n      //       parseInt(cash_bayar).toLocaleString(\"kr-KO\")\r\n      //   );\r\n      //   this.setState({\r\n      //     isLoading: false,\r\n      //   });\r\n      //   return false;\r\n      // }\r\n\r\n      let data_customer = JSON.parse(\r\n        localStorage.getItem(\"data_customer_pembelian_tmp\")\r\n      );\r\n      let data_pembelian = JSON.parse(\r\n        localStorage.getItem(\"data_barang_pembelian_tmp\")\r\n      );\r\n\r\n      let detail_barang = [];\r\n      data_pembelian.forEach((item, index) => {\r\n        let row = {\r\n          kode_dept: item.kode_dept,\r\n          nama_barang: item.nama_barang,\r\n          berat_nota: item.berat_nota,\r\n          harga: item.harga,\r\n          berat: item.berat,\r\n          kadar: item.kadar || 0,\r\n          harga_nota: item.harga_nota,\r\n          kondisi: item.kondisi,\r\n          kode_barcode: item.kode_barcode,\r\n        };\r\n        detail_barang.push(row);\r\n      });\r\n      let datapembelian = {\r\n        kode_sales: data_customer.kode_sales,\r\n        nama_customer: data_customer.nama_customer,\r\n        kode_member:\r\n          data_customer.jenis_pelanggan === \"NONMEMBER\"\r\n            ? data_customer.jenis_pelanggan\r\n            : data_customer.kode_customer,\r\n        alamat_customer: data_customer.alamat_customer,\r\n        no_hp: data_customer.no_hp,\r\n        detail_barang: detail_barang,\r\n        pembayaran: [data_pembayaran],\r\n      };\r\n      // if (data.cash < data.grand_total_pembayaran) {\r\n      //   let cash_bayar = parseInt(data.grand_total_pembayaran) - parseInt(data.cash);\r\n      //   ToastNotification('info', 'Pembayaran Masih Kurang Rp.' + parseInt(cash_bayar).toLocaleString(\"kr-KO\"))\r\n      //   return false;\r\n      // }\r\n\r\n      postData(\"pembelian/simpan\", datapembelian)\r\n        .then((res) => {\r\nlet feedback = '';\r\nlet hasilnya = [res.data.notabeli]\r\nhasilnya.forEach((row, index) => {\r\nlet jml_alamat = row.head.n_alamat_customer.length;\r\nfeedback += `========================================\\n`\r\nfeedback += `              NOTA PEMBELIAN            \\n`\r\nfeedback += `========================================\r\nTanggal          : ${row.head.tgl_system}\r\nNama Customer    : ${row.head.nama_customer}\r\nNo Hp            : ${row.head.no_hp}\r\nAlamat Customer  : ${row.head.n_alamat_customer.slice(0,20)}\\n`\r\nif(jml_alamat>20){\r\nfeedback += `                   ${row.head.n_alamat_customer.slice(20,40)}\\n`;\r\n}\r\nif(jml_alamat>40){\r\nfeedback += `                   ${row.head.n_alamat_customer.slice(40,60)}\\n`;\r\n}\r\nfeedback += `========================================\\n`\r\nfeedback += `Keterangan\\n`\r\nfeedback += `========================================\\n`\r\nlet total = 0;\r\nlet harga_nota = 0;\r\nrow.detail.forEach((detail, index) => {\r\ntotal = total + detail.harga;\r\nharga_nota = harga_nota + detail.harga_nota;\r\nfeedback += `No Faktur Beli : ${detail.no_faktur_beli}\\n`\r\nfeedback += `Jenis Barang   : ${detail.kode_dept}\\n`\r\nfeedback += `Nama Barang    : ${detail.nama_barang}\\n`\r\nfeedback += `Berat          : ${detail.berat.toFixed(3)}\\n`\r\nfeedback += `Harga          : ${detail.harga.toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `========================================\\n`\r\n})\r\nfeedback += `Total          : ${total.toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `========================================\\n`\r\nfeedback += `Harga Waktu Beli   : ${total.toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `Harga Waktu Jual   : ${harga_nota.toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `========================================\\n`\r\nfeedback += `\r\n\r\n\r\n\\n\\n\\n\r\n`\r\nfeedback += `========================================\\n`\r\nfeedback += `              NOTA PEMBELIAN            \\n`\r\nfeedback += `========================================\r\nTanggal          : ${row.head.tgl_system}\r\nNama Customer    : ${row.head.nama_customer}\r\nNo Hp            : ${row.head.no_hp}\r\nAlamat Customer  : ${row.head.n_alamat_customer.slice(0,20)}\\n`\r\nif(jml_alamat>20){\r\nfeedback += `                   ${row.head.n_alamat_customer.slice(20,40)}\\n`;\r\n}\r\nif(jml_alamat>40){\r\nfeedback += `                   ${row.head.n_alamat_customer.slice(40,60)}\\n`;\r\n}\r\nfeedback += `========================================\\n`\r\nfeedback += `Keterangan\\n`\r\nfeedback += `========================================\\n`\r\nrow.detail.forEach((detail, index) => {\r\ntotal = total + detail.harga;\r\nharga_nota = harga_nota + detail.harga_nota;\r\nfeedback += `No Faktur Beli : ${detail.no_faktur_beli}\\n`\r\nfeedback += `Jenis Barang   : ${detail.kode_dept}\\n`\r\nfeedback += `Nama Barang    : ${detail.nama_barang}\\n`\r\nfeedback += `Berat          : ${detail.berat.toFixed(3)}\\n`\r\nfeedback += `Harga          : ${detail.harga.toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `========================================\\n`\r\n})\r\nfeedback += `Total          : ${total.toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `========================================\\n`\r\nfeedback += `Harga Waktu Beli   : ${total.toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `Harga Waktu Jual   : ${harga_nota.toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `========================================\\n`\r\nfeedback += `\r\n\r\n\r\n\\n\\n\\n\r\n`\r\n})\r\n              console.log(feedback);\r\n              Print.postMessage(feedback);\r\n          ToastNotification(\"success\", res.data.message);\r\n        })\r\n        .then(() => {\r\n          this.setState({\r\n            isLoading: false,\r\n          });\r\n        })\r\n        .then(() => {\r\n          this.props.dispatch(reset(\"ModalPembayaran\"));\r\n        })\r\n        .then(() => {\r\n          localStorage.setItem(\r\n            \"data_customer_pembelian_tmp\",\r\n            JSON.stringify([])\r\n          );\r\n          localStorage.setItem(\"data_barang_pembelian_tmp\", JSON.stringify([]));\r\n        })\r\n        .then(() => {\r\n          this.props.dispatch(setBarangPembelian([]));\r\n          this.setState({\r\n            step: 0,\r\n          });\r\n        })\r\n        .catch((err) => this.errorhandling(err));\r\n    }, 500);\r\n  }\r\n  back(data) {\r\n    this.setState({\r\n      step: data,\r\n    });\r\n    // if (data === 1) {\r\n    //   this.setState({\r\n    //     step: 1,\r\n    //   });\r\n    // } else {\r\n    //   this.setState({\r\n    //     step: 0,\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  simpanPembayaran(data) {\r\n    if (data.jenis !== \"CASH\") {\r\n      if (data.kembali.replace(/[^0-9]/g, \"\") - data.cash < 0) {\r\n        ToastNotification(\"info\", \"Pembayaran tidak boleh lebih dari sisa\");\r\n        return false;\r\n      }\r\n    }\r\n    this.setState({\r\n      isLoading: true,\r\n    });\r\n    let data_barang_penjualan = JSON.parse(\r\n      localStorage.getItem(\"data_barang_pembelian_tmp\")\r\n    );\r\n    let total = 0;\r\n    data_barang_penjualan.forEach((item, index) => {\r\n      // console.log(item.total);\r\n      total = total + item.harga;\r\n    });\r\n    // let data_pembayaran = {\r\n    //   jenis: 'CASH',\r\n    //   jumlah_rp: total,\r\n    // };\r\n    let cash = 0;\r\n    if (data.cash > data.grand_total_pembayaran) {\r\n      cash = data.grand_total_pembayaran;\r\n    } else {\r\n      cash = data.cash;\r\n    }\r\n    let data_pembayaran = {\r\n      jenis: data.jenis,\r\n      jumlah_rp: cash,\r\n    };\r\n\r\n    if (parseInt(data.cash) < parseInt(data.grand_total_pembayaran)) {\r\n      let cash_bayar =\r\n        parseInt(data.grand_total_pembayaran) - parseInt(data.cash);\r\n      ToastNotification(\r\n        \"info\",\r\n        \"Pembayaran Masih Kurang Rp.\" +\r\n          parseInt(cash_bayar).toLocaleString(\"kr-KO\")\r\n      );\r\n      this.setState({\r\n        isLoading: false,\r\n      });\r\n      return false;\r\n    }\r\n\r\n    let data_customer = JSON.parse(\r\n      localStorage.getItem(\"data_customer_pembelian_tmp\")\r\n    );\r\n    let data_pembelian = JSON.parse(\r\n      localStorage.getItem(\"data_barang_pembelian_tmp\")\r\n    );\r\n\r\n    let detail_barang = [];\r\n    data_pembelian.forEach((item, index) => {\r\n      let row = {\r\n        kode_dept: item.kode_dept,\r\n        nama_barang: item.nama_barang,\r\n        berat_nota: item.berat_nota,\r\n        harga: item.harga,\r\n        berat: item.berat,\r\n        harga_nota: item.harga_nota,\r\n        kondisi: item.kondisi,\r\n        kode_barcode: item.kode_barcode,\r\n      };\r\n      detail_barang.push(row);\r\n    });\r\n    let datapembelian = {\r\n      kode_sales: data_customer.kode_sales,\r\n      nama_customer: data_customer.nama_customer,\r\n      kode_member:\r\n        data_customer.jenis_pelanggan === \"NONMEMBER\"\r\n          ? data_customer.jenis_pelanggan\r\n          : data_customer.kode_customer,\r\n      alamat_customer: data_customer.alamat_customer,\r\n      no_hp: data_customer.no_hp,\r\n      detail_barang: detail_barang,\r\n      pembayaran: [data_pembayaran],\r\n    };\r\n    // if (data.cash < data.grand_total_pembayaran) {\r\n    //   let cash_bayar = parseInt(data.grand_total_pembayaran) - parseInt(data.cash);\r\n    //   ToastNotification('info', 'Pembayaran Masih Kurang Rp.' + parseInt(cash_bayar).toLocaleString(\"kr-KO\"))\r\n    //   return false;\r\n    // }\r\n\r\n    postData(\"pembelian/simpan\", datapembelian)\r\n      .then((res) => {\r\n        ToastNotification(\"success\", res.data.message);\r\n      })\r\n      .then(() => {\r\n        this.setState({\r\n          isLoading: false,\r\n        });\r\n      })\r\n      .then(() => {\r\n        this.props.dispatch(reset(\"ModalPembayaran\"));\r\n      })\r\n      .then(() => {\r\n        localStorage.setItem(\"data_customer_pembelian_tmp\", JSON.stringify([]));\r\n        localStorage.setItem(\"data_barang_pembelian_tmp\", JSON.stringify([]));\r\n      })\r\n      .then(() => {\r\n        this.props.dispatch(setBarangPembelian([]));\r\n        this.setState({\r\n          step: 0,\r\n        });\r\n      })\r\n      .catch((err) => this.errorhandling(err));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    localStorage.setItem(\"data_customer_pembelian_tmp\", JSON.stringify([]));\r\n    localStorage.setItem(\"data_barang_pembelian_tmp\", JSON.stringify([]));\r\n  }\r\n  componentDidMount(){\r\n    this.context.handleSetPageSidebar(false);\r\n\t\tthis.context.handleSetPageHeader(false);\r\n  }\r\n  errorhandling(error) {\r\n    this.setState({\r\n      isLoading: false,\r\n    });\r\n    ToastNotification(\"info\", \"Transaksi Gagal Disimpan\");\r\n  }\r\n  nextLihatDataBarang() {\r\n    // console.log();\r\n    if (\r\n      localStorage.getItem(\"data_barang_pembelian_tmp\") == null ||\r\n      JSON.parse(localStorage.getItem(\"data_barang_pembelian_tmp\")).length === 0\r\n    ) {\r\n      ToastNotification(\"info\", \"Data Barang Tidak Boleh Kosong\");\r\n      return false;\r\n    } else {\r\n      this.setState({ step: 1 });\r\n    }\r\n  }\r\n  btlPembelian() {\r\n    this.setState({\r\n      isLoadingBatal: true,\r\n    });\r\n    setTimeout(() => {\r\n      localStorage.setItem(\"data_customer_pembelian_tmp\", JSON.stringify([]));\r\n      this.props.dispatch(setBarangPembelian([]));\r\n      localStorage.setItem(\"data_barang_pembelian_tmp\", JSON.stringify([]));\r\n      this.setState({\r\n        isLoadingBatal: false,\r\n      });\r\n      \r\n    }, 500);\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n      <Link to=\"/home\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              data-tut=\"reactour_4\"\r\n            >\r\n              <i className=\"fa fa-angle-left mr-3\" aria-hidden=\"true\"></i> Home\r\n            </button>\r\n          </Link>\r\n          <br />\r\n        <br />\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Pembelian</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Transaksi Pembelian</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Transaksi Pembelian </h1>\r\n        <Panel>\r\n          <PanelHeader>Transaksi Pembelian</PanelHeader>\r\n          <br />\r\n          <Stepper\r\n            steps={[\r\n              { title: \"Input Barang\" },\r\n              { title: \"Lihat Data Barang\" },\r\n              { title: \"Data Customer\" },\r\n              // { title: \"Pembayaran\" },\r\n            ]}\r\n            activeStep={this.state.step}\r\n          />\r\n          <br />\r\n          <div className=\"row\">\r\n            {this.state.step === 0 ? (\r\n              <div className=\"col-12\">\r\n                <div className=\"container\">\r\n                  <ModalTambahBarang\r\n                    isLoadingSimpanBarang={this.state.isLoadingSimpanBarang}\r\n                    columns={this.state.columns}\r\n                    onSubmit={(data) => this.simpanBarang(data)}\r\n                  />\r\n                  <br />\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6 text-left\">\r\n                      <button\r\n                        onClick={() => this.btlPembelian()}\r\n                        className=\"btn btn-warning\"\r\n                        disabled={this.state.isLoadingBatal}\r\n                        type=\"button\"\r\n                      >\r\n                        {this.state.isLoadingBatal ? (\r\n                          <>\r\n                            <i className=\"fas fa-spinner fa-spin\"></i> &nbsp;\r\n                            Reset Data\r\n                          </>\r\n                        ) : (\r\n                          \"Reset Data\"\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"col-6 text-right\">\r\n                      <button\r\n                        className=\"btn btn-primary\"\r\n                        onClick={() => this.nextLihatDataBarang()}\r\n                      >\r\n                        {\" \"}\r\n                        Next{\" \"}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : this.state.step === 1 ? (\r\n              <div className=\"col-12\">\r\n                <div className=\"container\">\r\n                  <LihatDataBarang\r\n                    isLoadingSimpanBarang={this.state.isLoadingSimpanBarang}\r\n                    columns={this.state.columns}\r\n                    onSubmit={(data) => this.simpanBarang(data)}\r\n                  />\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6 text-left\">\r\n                      <button\r\n                        onClick={() => this.back(0)}\r\n                        className=\"btn btn-secondary\"\r\n                        type=\"button\"\r\n                      >\r\n                        Kembali\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"col-6 text-right\">\r\n                      <button\r\n                        className=\"btn btn-primary\"\r\n                        onClick={() => this.setState({ step: 2 })}\r\n                      >\r\n                        {\" \"}\r\n                        Next{\" \"}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : this.state.step === 2 ? (\r\n              <div className=\"col-12\">\r\n                <div className=\"container\">\r\n                  <br />\r\n                  <br />\r\n                  <ModalDataCustomer\r\n                    isLoading={this.state.isLoading}\r\n                    back={() => this.back(1)}\r\n                    isLoadingDataCustomer={this.state.isLoadingDataCustomer}\r\n                    onSubmit={(data) => this.handleSubmit(data)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"col-12\">\r\n                <div className=\"container\">\r\n                  <ModalPembayaran\r\n                    isLoading={this.state.isLoading}\r\n                    onSubmit={(data) => this.simpanPembayaran(data)}\r\n                    back={() => this.back(2)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <br />\r\n        </Panel>\r\n        <ModalGlobal\r\n          title=\"Otorisasi Pembelian\"\r\n          size=\"P\"\r\n          content={\r\n              <OtorisasiHancur\r\n              keterangan\r\n                onSubmit={(data) => this.cekOtorisasi(data)}\r\n              />\r\n          }\r\n        />\r\n      </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(maptostate, null)(FormTransaksiPembelian);\r\n","const ValidasiPembayaran = (value) => {\r\n    const errors = {};\r\n    if (!value.jenis) {\r\n        errors.jenis = \"Jenis Tidak Boleh Kosong\";\r\n    }\r\n    // if (!value.cash) {\r\n    //     errors.cash = \"Nominal Tidak Boleh Kosong\";\r\n    // }\r\n\r\n    return errors;\r\n}\r\n\r\nexport default ValidasiPembayaran;\r\n\r\n\r\n","const ValidasiFormDataMemberPenjualan = (value) => {\r\n    const errors = {};\r\n    if (!value.kode_sales) {\r\n        errors.kode_sales = \"Kode Sales Harus Dipilih\";\r\n    }\r\n    if (!value.nama_customer) {\r\n        errors.nama_customer = \"Nama Customer Harus Diisi\";\r\n    }\r\n    if (!value.no_hp) {\r\n        errors.no_hp = \"No Hp Harus Diisi\";\r\n    }\r\n    if (!value.alamat) {\r\n        errors.alamat = \"Alamat Harus Diisi\";\r\n    }\r\n\r\n    return errors;\r\n}\r\n\r\nexport default ValidasiFormDataMemberPenjualan;\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { HiidenFiled, ReanderField } from \"../../../components/helpers/field\";\r\n\r\nclass OtorisasiHancur extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  componentDidMount() {\r\n    // let data = JSON.parse(localStorage.getItem(\"no_faktur_batal_jual\"));\r\n    // this.props.change(\"no_faktur_group\", data.no_faktur_group);\r\n    // this.props.change(\"alasan\", data.alasan);\r\n    setTimeout(() => {\r\n      document.getElementById('username').focus();\r\n    }, 100);\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n        autoComplete=\"off\"\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-6\">\r\n            <Field\r\n              name=\"no_faktur_group\"\r\n              component={HiidenFiled}\r\n              type=\"hidden\"\r\n            />\r\n            <Field name=\"alasan\" component={HiidenFiled} type=\"hidden\" />\r\n            <Field\r\n              id=\"username\"\r\n              name=\"username\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              nouperCase\r\n              label=\"Username\"\r\n              placeholder=\"Masukan Username\"\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-6\">\r\n            <Field\r\n              name=\"password\"\r\n              component={ReanderField}\r\n              type=\"password\"\r\n              nouperCase\r\n              label=\"Password\"\r\n              placeholder=\"Masukan Password\"\r\n            />\r\n          </div>\r\n          <div className={this.props.keterangan ? \"col-lg-12\" : \"col-lg-12 d-none\"}>\r\n            <Field\r\n              name=\"keterangan\"\r\n              component={ReanderField}\r\n              label=\"Keterangan\"\r\n              placeholder=\"Masukan Keterangan\"\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <label> &nbsp; </label>\r\n            <button\r\n              type=\"submit\"\r\n              name=\"type_btn\"\r\n              className=\"btn btn-primary btn-block\"\r\n              disabled={this.props.isLoadingOtorisasi}\r\n            >\r\n              {this.props.isLoadingOtorisasi ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Otorisasi\r\n                </>\r\n              ) : (\r\n                \"Otorisasi\"\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nOtorisasiHancur = reduxForm({\r\n  form: \"OtorisasiHancur\",\r\n  enableReinitialize: true,\r\n})(OtorisasiHancur);\r\nexport default connect(null)(OtorisasiHancur);\r\n"],"sourceRoot":""}