{"version":3,"sources":["pages/pos_home/index.jsx","assets/img/background.jpg","assets/img/penjualan.gif","assets/img/pembelian.gif"],"names":["activeBg","background","PosHomePage","type","useContext","PageSettings","history","useHistory","_useState","useState","_useState2","Object","C_Users_Octavian_Documents_GitHub_nagagold_online_react_pos_lite_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","dateSystem","setdateSystem","routeChange","path","push","useEffect","_getUserdata","handleSetPageSidebar","handleSetPageHeader","getUserdata","tgl_system","getToday","showModalTutupToko","datatodays","Date","setDate","getDate","todate","Swal","fire","html","formatDate","moment","format","icon","position","cancelButtonText","showCancelButton","confirmButtonText","showConfirmButton","then","result","isConfirmed","postDataNoTImeOut","PROSES","res","ToastNotification","setTimeout","window","location","href","localStorage","clear","setItem","catch","err","undefined","response","data","_this","handleInvalidToken","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","Fragment","className","style","backgroundImage","minWidth","minHeight","display","justifyContent","alignItems","onClick","reactstrap__WEBPACK_IMPORTED_MODULE_7__","borderRadius","backgroundColor","reactstrap__WEBPACK_IMPORTED_MODULE_8__","src","penjualanIcon","alt","width","class","pembelianIcon","title","text","postData","user_id","reload","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/13.8bc24ee9.chunk.js","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { PageSettings } from \"../../config/page-settings\";\r\nimport background from \"../../assets/img/background.jpg\";\r\nimport penjualanIcon from \"../../assets/img/penjualan.gif\";\r\nimport pembelianIcon from \"../../assets/img/pembelian.gif\";\r\nimport { Card, CardBody } from \"reactstrap\";\r\nimport Swal from \"sweetalert2\";\r\nimport { postData, postDataNoTImeOut } from \"../../config/axios\";\r\nimport { formatDate, getToday, getUserdata } from \"../../components/helpers/function\";\r\nimport {  ToastNotification } from \"../../components/helpers/notification\";\r\nimport moment from \"moment\";\r\n\r\nconst activeBg = background;\r\nconst PosHomePage = () => {\r\n  const type = useContext(PageSettings);\r\n  const history = useHistory();\r\n  const [dateSystem, setdateSystem] = useState(true)\r\n\r\n  const routeChange = (path) => {\r\n    history.push(path);\r\n  };\r\n  useEffect(() => {\r\n    type.handleSetPageSidebar(false);\r\n    type.handleSetPageHeader(false);\r\n    setdateSystem((getUserdata()?.tgl_system || \"-\") === getToday())\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  const logout = () => {\r\n    Swal.fire({\r\n      title: \"Konfirmasi Keluar !!\",\r\n      text: \"Apakah anda ingin keluar ?\",\r\n      icon: \"info\",\r\n      position: \"top-center\",\r\n      cancelButtonText: \"Tidak\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"OK\",\r\n      showConfirmButton: true,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        postData(\"users/logout\", { user_id: getUserdata().user_id })\r\n          .then((res) => {\r\n            window.location.href = \"/nagapos-lite.com/\";\r\n            localStorage.clear();\r\n            localStorage.setItem(\"islogin\", \"false\");\r\n          })\r\n          .catch((err) => {\r\n            ToastNotification(\r\n              \"info\",\r\n              err.response === undefined ? \"Gagal Logout\" : err.response.data\r\n            );\r\n            window.location.reload();\r\n            localStorage.clear();\r\n            localStorage.setItem(\"islogin\", \"false\");\r\n          });\r\n      }\r\n    });\r\n  };\r\n  const showModalTutupToko = () => {\r\n    var datatoday = new Date();\r\n    var datatodays = datatoday.setDate(new Date(new Date(getUserdata().tgl_system)).getDate() + 1);\r\n    var todate = new Date(datatodays);\r\n    Swal.fire({\r\n      html:\r\n        \"<h1><b>Tanggal System berbeda dengan tanggal toko<br/> \" +\r\n        \"</h1><br>\" +\r\n        \"Tanggal System \"+getUserdata().tgl_system + \" - Tanggal Toko \" + formatDate(moment(new Date(todate)).format(\"YYYY-MM-DD\")),\r\n      icon: \"warning\",\r\n      position: \"top-center\",\r\n      cancelButtonText: \"Ya..\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"OK\",\r\n      showConfirmButton: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        postDataNoTImeOut(\"system/close\", { PROSES: \"close\" })\r\n          .then((res) => {\r\n            ToastNotification(\"success\", \"Berhasil Menutup Toko\");\r\n           \r\n            setTimeout(() => {\r\n              // window.location.reload();\r\n              window.location.href = \"/nagapos-lite.com\";\r\n              localStorage.clear();\r\n              localStorage.setItem(\"islogin\", \"false\");\r\n              \r\n            }, 1000);\r\n          })\r\n          .catch((err) => {\r\n            // console.log(err.response);\r\n              err.response === undefined ? ToastNotification(\"info\",err.response === undefined ? \"Terjadi Kesalahan Saat Request Data\" : err.response.data )\r\n              : err.response.data === \"Invalid token.\" ? this.handleInvalidToken()\r\n              : \r\n              ToastNotification(\"info\",err.response.data)\r\n                //   setTimeout(() => {\r\n                //   window.location.reload();\r\n                //   localStorage.clear();\r\n                //   localStorage.setItem(\"islogin\", \"false\");\r\n                // }, 1000);\r\n          });\r\n      }\r\n    });\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"login-cover\">\r\n        <div\r\n          className=\"login-cover-image\"\r\n          style={{ backgroundImage: \"url(\" + activeBg + \")\" }}\r\n        ></div>\r\n      </div>\r\n      <div\r\n        className=\"login\"\r\n        style={{\r\n          minWidth: \"80%\",\r\n          minHeight: \"calc(100vh - 40px)\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <div className=\"row col-lg-12 justify-content-center\">\r\n          <div\r\n            className=\"col-lg-4 col-md-4\"\r\n            onClick={() => {\r\n               if(dateSystem){\r\n                routeChange(\"/transaksi-penjualan\") \r\n               } else {\r\n                showModalTutupToko()\r\n               }\r\n            }}\r\n          >\r\n            <Card\r\n              style={{ borderRadius: 30, backgroundColor: \"#619680 !important\" }}\r\n              className=\"border-0 card-inverse bg-primary text-white text-center m-b-10\"\r\n            >\r\n              <CardBody>\r\n                <img\r\n                  src={penjualanIcon}\r\n                  alt=\"this slowpoke moves\"\r\n                  width=\"250\"\r\n                  class=\"img-fluid\"\r\n                />\r\n                <h1>\r\n                  <strong>Penjualan</strong>\r\n                </h1>\r\n              </CardBody>\r\n            </Card>\r\n          </div>\r\n          <div\r\n            className=\"col-lg-4 col-md-4\"\r\n            onClick={() => {\r\n              if(dateSystem){\r\n                routeChange(\"/transaksi-pembelian\") \r\n               } else {\r\n                showModalTutupToko()\r\n               }\r\n            }}\r\n          >\r\n            <Card\r\n              className=\"border-0 card-inverse bg-primary text-white text-center m-b-10\"\r\n              style={{ borderRadius: 30,backgroundColor: \"#619680 !important\"   }}\r\n            >\r\n              <CardBody>\r\n                <img\r\n                  src={pembelianIcon}\r\n                  alt=\"this slowpoke moves\"\r\n                  width=\"250\"\r\n                  class=\"img-fluid\"\r\n                />\r\n                <h1>\r\n                  <strong>Pembelian</strong>\r\n                </h1>\r\n              </CardBody>\r\n            </Card>\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n              <br /><br />\r\n          </div>\r\n          <div className=\"col-lg-12 justify-content-center row\">\r\n              <div className=\"col-lg-4\"></div>\r\n          <div\r\n            className=\"col-lg-4 col-md-4\"\r\n            onClick={logout}\r\n          >\r\n            <Card\r\n              className=\"border-0 card-inverse bg-primary text-white text-center m-b-10\"\r\n              style={{ borderRadius: 30 }}\r\n            >\r\n              <CardBody>\r\n                <h1>\r\n                  <strong>Logout</strong>\r\n                </h1>\r\n              </CardBody>\r\n            </Card>\r\n          </div>\r\n          <div className=\"col-lg-4\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default PosHomePage;\r\n","module.exports = __webpack_public_path__ + \"static/media/background.ce56f9b0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/penjualan.0c5a9efe.gif\";","module.exports = __webpack_public_path__ + \"static/media/pembelian.e0b8f3a4.gif\";"],"sourceRoot":""}